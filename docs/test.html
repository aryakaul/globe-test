<head>
  <style> body { margin: 0; } </style>
  <script src="//unpkg.com/three"></script>
  <script src="//unpkg.com/globe.gl"></script>
</head>

<body>
  <div id="globeViz"></div>

  <script>
        const markerSvg = `<svg viewBox="-4 0 36 36">
    <path fill="currentColor" d="M14,0 C21.732,0 28,5.641 28,12.6 C28,23.963 14,36 14,36 C14,36 0,24.064 0,12.6 C0,5.641 6.268,0 14,0 Z"></path>
    <circle fill="black" cx="14" cy="14" r="7"></circle>
  </svg>`;



      const world = Globe()
              .htmlElement(d => {
                const el = document.createElement('div');
                el.innerHTML = markerSvg;
                el.style.color = 'red';
                el.style.width = `150px`;
                el.style['pointer-events'] = 'auto';
                el.style.cursor = 'pointer';
                return el;
              .globeImageUrl('//unpkg.com/three-globe/example/img/earth-blue-marble.jpg')
              .bumpImageUrl('//unpkg.com/three-globe/example/img/earth-topology.png');
              })
            (document.getElementById('globeViz'));

    // Auto-rotate
    world.controls().autoRotate = true;
    world.controls().autoRotateSpeed = 0.35;
        
    fetch('./test.csv').then(res => res.text())
      .then(csv => d3.csvParse(csv, ({ lat, lng }) => ({ lat: +lat, lng: +lng })))
      .then(data => world.htmlElementsData(data));
  </script>
</body>
